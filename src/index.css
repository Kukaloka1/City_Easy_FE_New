@tailwind base;
@tailwind components;
@tailwind utilities;

/* utilidades mínimas */
@layer components {
  .ce-card { @apply rounded-2xl border bg-white/80 backdrop-blur p-4; }
  .ce-btn  { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 font-semibold hover:opacity-90; }
}

/* ---- Tailwind × Leaflet fix: no escalar imágenes del mapa ---- */
.leaflet-container .leaflet-pane img,
.leaflet-container .leaflet-tile,
.leaflet-container .leaflet-marker-icon,
.leaflet-container img.leaflet-image-layer {
  max-width: none !important;
  max-height: none !important;
}

/* Estética y clipping del contenedor del mapa (sin forzar altura global) */
.leaflet-container {
  border-radius: 0.75rem;
  overflow: hidden;
}

/* src/index.css */
.leaflet-container { z-index: 0; } /* el modal ya va a 10000 */

/* ───────── Markdown — versión “pro” visible ───────── */
.markdown-prose{
  --fg:#0f172a;            /* texto */
  --muted:#475569;         /* texto secundario */
  --accent:#2563eb;        /* blue-600 */
  --accent-2:#22c55e;      /* emerald-500 */
  --border:#e2e8f0;        /* slate-200 */
  --soft:#f8fafc;          /* slate-50 */
  --code:#0b1220;          /* fondo code (dark-like) */

  color:var(--fg);
  font-size:1rem;              /* + */
  line-height:1.75;            /* + aire */
  text-wrap:pretty;
}
.markdown-prose > :first-child{margin-top:0!important}
.markdown-prose > :last-child{margin-bottom:0!important}

/* Encabezados con barra de acento inferior */
.markdown-prose h1,.markdown-prose h2,.markdown-prose h3{
  font-weight:800; letter-spacing:-.02em; color:#0b1324;
  margin:1.1rem 0 .9rem; position:relative;
}
.markdown-prose h1{font-size:1.6rem}
.markdown-prose h2{font-size:1.35rem}
.markdown-prose h3{font-size:1.12rem}
.markdown-prose h1::after,
.markdown-prose h2::after{
  content:""; position:absolute; left:0; bottom:-8px; height:3px; width:84px;
  border-radius:999px;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
}

/* Primer párrafo como “lead” */
.markdown-prose > p:first-of-type{
  font-size:1.06rem; color:#1f2937;   /* slate-800 */
}

/* Párrafos, listas */
.markdown-prose p{margin:.7rem 0}
.markdown-prose ul,.markdown-prose ol{margin:.5rem 0 .95rem 1.25rem}
.markdown-prose li{margin:.3rem 0}
.markdown-prose ul li::marker{color:var(--accent); font-weight:700; font-size:1.05em}
.markdown-prose ol>li::marker{color:var(--accent); font-weight:700}

/* Enlaces con subrayado animado (se nota) */
.markdown-prose a{
  color:var(--accent); text-decoration:none; position:relative;
  transition:color .2s ease;
}
.markdown-prose a::after{
  content:""; position:absolute; left:0; right:0; bottom:-2px; height:2px;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  transform:scaleX(.6); transform-origin:left; transition:transform .2s ease;
  border-radius:999px;
}
.markdown-prose a:hover{color:#1e40af}
.markdown-prose a:hover::after{transform:scaleX(1)}

/* Code inline y bloques “card” modernos */
.markdown-prose code{
  font-family:ui-monospace,SFMono-Regular,Menlo,monospace;
  background:#0b1220; color:#e2e8f0; /* contraste real */
  padding:.18rem .42rem; border-radius:.45rem; font-size:.9em;
}
.markdown-prose pre{
  background:#0b1220; color:#e2e8f0;
  border:1px solid #0b1220; border-radius:1rem;
  padding:1rem 1.1rem; overflow:auto; margin:.95rem 0;
  box-shadow:0 8px 20px rgba(2,6,23,.08);
  scrollbar-width:thin;
}
.markdown-prose pre code{background:transparent; padding:0; font-size:.92rem}

/* Blockquote con fondo sutil + borde degradado (callout) */
.markdown-prose blockquote{
  border-left:4px solid transparent;
  background:
    linear-gradient(#fff,#fff) padding-box,
    linear-gradient(180deg,var(--border),#bfdbfe) border-box; /* slate→blue */
  padding:.95rem 1rem; border-radius:.8rem; margin:1rem 0;
  color:#334155;
}

/* HR visible pero limpio */
.markdown-prose hr{
  height:1px; border:0; margin:1.1rem 0;
  background:linear-gradient(90deg,transparent,var(--border),#f1f5f9,transparent);
}

/* Tablas con zebra y cabecera sticky en contenedores altos */
.markdown-prose table{width:100%; border-collapse:collapse; margin:.9rem 0; font-size:.95rem}
.markdown-prose th,.markdown-prose td{border:1px solid var(--border); padding:.6rem .75rem; text-align:left}
.markdown-prose thead th{background:var(--soft); font-weight:800; position:sticky; top:0; z-index:1}
.markdown-prose tbody tr:nth-child(odd) td{background:#fafafa}

/* Imágenes + caption */
.markdown-prose img{
  display:block; max-width:100%; height:auto; border-radius:.9rem;
  box-shadow:0 8px 20px rgba(2,6,23,.06); margin:.6rem 0 .25rem;
}
.markdown-prose p>em:only-child{
  display:block; text-align:center; color:var(--muted); font-size:.9em; margin-top:.1rem
}

/* Badges (para “Updated …”) */
.markdown-prose .badge{
  display:inline-flex; gap:.35rem; align-items:center;
  padding:.25rem .6rem; border-radius:999px;
  border:1px solid var(--border); background:var(--soft);
  font-size:.72rem; font-weight:600; color:#475569;
}

/* Dark mode opcional */
.dark .markdown-prose{
  --fg:#e2e8f0; --muted:#94a3b8; --border:#334155; --soft:#0b1220; --code:#0b1220;
}
.dark .markdown-prose a{color:#60a5fa}

@keyframes ce-stripe {
  to { background-position: 200% 0; }
}
.accent-underline{
  background: linear-gradient(90deg,#10b981,#2563eb,#10b981);
  background-size: 200% 100%;
  animation: ce-stripe 3s linear infinite;
  filter: drop-shadow(0 6px 18px rgba(16,185,129,.18));
}

/* Subrayado animado del título */
@keyframes ce-stripe { to { background-position: 200% 0; } }
.accent-underline{
  background: linear-gradient(90deg,#10b981,#2563eb,#10b981);
  background-size: 200% 100%;
  animation: ce-stripe 3s linear infinite;
  filter: drop-shadow(0 6px 18px rgba(16,185,129,.18));
}

/* Rotor fluido para los SVG de ciudades */
/* Crossfade + Ken Burns (sin giro de reloj) */
.ce-logoKB{
  opacity: 0;
  transform: scale(1) translate3d(0,0,0);
  transition:
    opacity var(--fade-ms, 1000ms) cubic-bezier(0.22, 1, 0.36, 1),
    transform 12s ease-in-out;
  will-change: opacity, transform;
  filter: drop-shadow(0 12px 32px rgba(2,6,23,.06));
}
.ce-logoKB.is-active{
  opacity: .16;                          /* intensidad sutil */
  transform: scale(1.04) translate3d(2%, -2%, 0); /* drift suave */
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .ce-logoKB{ transition: none !important; transform: none !important; }
}

/* Subrayado fino para headings de tarjetas */
.accent-underline-thin{
  background: linear-gradient(90deg,#10b981,#2563eb,#10b981);
  background-size: 200% 100%;
  animation: ce-stripe 3s linear infinite;
  filter: drop-shadow(0 4px 10px rgba(16,185,129,.18));
}
@keyframes ce-stripe { to { background-position: 200% 0; } }

/* Giro 1 sola vez + glow */
@keyframes hiw-rotate-once { from { transform: rotate(0) } to { transform: rotate(360deg) } }
.hiw-spin-once { animation: hiw-rotate-once 0.9s cubic-bezier(.22,1,.36,1) 1; }
.hiw-icon-glow  { filter: drop-shadow(0 0 12px rgba(66,133,244,.35)); }

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .hiw-spin-once { animation: none !important; }
}


